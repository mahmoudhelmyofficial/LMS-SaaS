@{
    ViewData["Title"] = "دليل إدارة المستخدمين";
}

@await Html.PartialAsync("_HelpStyles")

<!-- Page Header -->
<div class="page-header">
    <div class="page-header-left d-flex align-items-center">
        <div class="page-header-title">
            <h5 class="m-0">إدارة المستخدمين</h5>
        </div>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a asp-area="Admin" asp-controller="Dashboard" asp-action="Index">الرئيسية</a></li>
            <li class="breadcrumb-item"><a asp-action="Index">مركز المساعدة</a></li>
            <li class="breadcrumb-item active">إدارة المستخدمين</li>
        </ol>
    </div>
</div>

<div class="row">
    <div class="col-lg-3 mb-4">
        @await Html.PartialAsync("_HelpSidebar", "UserManagement")
    </div>
    
    <div class="col-lg-9">
        <!-- Hero -->
        <div class="help-content-hero">
            <div class="help-content-icon green">
                <i class="feather-users"></i>
            </div>
            <div>
                <h1>إدارة المستخدمين</h1>
                <p>إدارة جميع مستخدمي المنصة: الطلاب، المدرسين، والمديرين.</p>
            </div>
        </div>
        
        <!-- All Users -->
        <div class="help-section" id="all-users">
            <h3><i class="feather-users text-primary me-2"></i> إدارة جميع المستخدمين</h3>
            
            <p>من صفحة المستخدمين يمكنك:</p>
            
            <div class="row g-3 mb-4">
                <div class="col-md-6">
                    <div class="feature-card">
                        <div class="feature-icon green"><i class="feather-user-plus"></i></div>
                        <div>
                            <h6>إضافة مستخدم</h6>
                            <p>إنشاء حساب جديد مع تحديد الدور</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="feature-card">
                        <div class="feature-icon blue"><i class="feather-edit"></i></div>
                        <div>
                            <h6>تعديل البيانات</h6>
                            <p>تحديث معلومات أي مستخدم</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="feature-card">
                        <div class="feature-icon orange"><i class="feather-user-x"></i></div>
                        <div>
                            <h6>تعطيل/تفعيل</h6>
                            <p>إيقاف أو تفعيل حساب مستخدم</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="feature-card">
                        <div class="feature-icon purple"><i class="feather-key"></i></div>
                        <div>
                            <h6>إعادة تعيين كلمة المرور</h6>
                            <p>إرسال رابط إعادة التعيين</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <h5>إضافة مستخدم جديد:</h5>
            <div class="help-steps-flow">
                <div class="flow-step">
                    <div class="flow-number">1</div>
                    <div class="flow-content">
                        <h6>اضغط "إضافة"</h6>
                        <p>المستخدمين ← إضافة مستخدم</p>
                    </div>
                    <div class="flow-arrow"><i class="feather-arrow-left"></i></div>
                </div>
                <div class="flow-step">
                    <div class="flow-number">2</div>
                    <div class="flow-content">
                        <h6>املأ البيانات</h6>
                        <p>الاسم، البريد، الدور</p>
                    </div>
                    <div class="flow-arrow"><i class="feather-arrow-left"></i></div>
                </div>
                <div class="flow-step">
                    <div class="flow-number">3</div>
                    <div class="flow-content">
                        <h6>حفظ</h6>
                        <p>يتم إرسال بريد للمستخدم</p>
                    </div>
                </div>
            </div>
            
            <a asp-area="Admin" asp-controller="Users" asp-action="Create" class="btn btn-outline-primary mt-3" style="color: #1e3a5f; border-color: #1e3a5f;">
                <i class="feather-user-plus me-2"></i>
                إضافة مستخدم جديد
            </a>
        </div>
        
        <!-- Students -->
        <div class="help-section" id="students">
            <h3><i class="feather-user text-primary me-2"></i> إدارة الطلاب</h3>
            
            <p>قسم الطلاب يعرض جميع المتعلمين المسجلين في المنصة:</p>
            
            <ul>
                <li>عرض قائمة الطلاب مع إحصائياتهم</li>
                <li>تصفية حسب الحالة (نشط/غير نشط)</li>
                <li>عرض الدورات المسجل فيها كل طالب</li>
                <li>تتبع تقدم الطالب في الدورات</li>
            </ul>
            
            <a asp-area="Admin" asp-controller="Students" asp-action="Index" class="btn btn-outline-primary" style="color: #1e3a5f; border-color: #1e3a5f;">
                <i class="feather-users me-2"></i>
                عرض الطلاب
            </a>
        </div>
        
        <!-- Instructors -->
        <div class="help-section" id="instructors">
            <h3><i class="feather-user-check text-primary me-2"></i> إدارة المدرسين</h3>
            
            <div class="help-callout info">
                <i class="feather-info"></i>
                <div>
                    <strong>طلبات المدرسين:</strong> عندما يتقدم مستخدم ليصبح مدرساً، يظهر طلبه في قائمة الطلبات المعلقة للموافقة.
                </div>
            </div>
            
            <h5>معالجة طلب مدرس:</h5>
            <div class="help-steps-flow">
                <div class="flow-step">
                    <div class="flow-number">1</div>
                    <div class="flow-content">
                        <h6>راجع الطلب</h6>
                        <p>اطلع على بيانات المتقدم</p>
                    </div>
                    <div class="flow-arrow"><i class="feather-arrow-left"></i></div>
                </div>
                <div class="flow-step">
                    <div class="flow-number">2</div>
                    <div class="flow-content">
                        <h6>تحقق من المؤهلات</h6>
                        <p>الشهادات والخبرات</p>
                    </div>
                    <div class="flow-arrow"><i class="feather-arrow-left"></i></div>
                </div>
                <div class="flow-step">
                    <div class="flow-number">3</div>
                    <div class="flow-content">
                        <h6>الموافقة أو الرفض</h6>
                        <p>مع إرسال إشعار للمتقدم</p>
                    </div>
                </div>
            </div>
            
            <div class="mt-4">
                <a asp-area="Admin" asp-controller="Instructors" asp-action="Index" class="btn btn-outline-primary me-2" style="color: #1e3a5f; border-color: #1e3a5f;">
                    <i class="feather-users me-2"></i>
                    جميع المدرسين
                </a>
                <a asp-area="Admin" asp-controller="Instructors" asp-action="Applications" class="btn btn-outline-warning">
                    <i class="feather-clock me-2"></i>
                    طلبات قيد المراجعة
                </a>
            </div>
        </div>
        
        <!-- User Activity -->
        <div class="help-section" id="activity">
            <h3><i class="feather-activity text-primary me-2"></i> تتبع نشاط المستخدمين</h3>
            
            <p>راقب نشاط المستخدمين على المنصة:</p>
            
            <div class="row g-3">
                <div class="col-md-6">
                    <div class="feature-card">
                        <div class="feature-icon teal"><i class="feather-log-in"></i></div>
                        <div>
                            <h6>سجلات الدخول</h6>
                            <p>تاريخ وموقع كل عملية دخول</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="feature-card">
                        <div class="feature-icon indigo"><i class="feather-monitor"></i></div>
                        <div>
                            <h6>الجلسات النشطة</h6>
                            <p>المستخدمون المتصلون حالياً</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mt-4">
                <a asp-area="Admin" asp-controller="UserActivity" asp-action="Index" class="btn btn-outline-primary me-2" style="color: #1e3a5f; border-color: #1e3a5f;">
                    <i class="feather-activity me-2"></i>
                    سجل النشاط
                </a>
                <a asp-area="Admin" asp-controller="UserSessions" asp-action="Index" class="btn btn-outline-primary" style="color: #1e3a5f; border-color: #1e3a5f;">
                    <i class="feather-monitor me-2"></i>
                    الجلسات النشطة
                </a>
            </div>
        </div>
        
        <!-- Navigation -->
        <div class="help-navigation">
            <a asp-action="GettingStarted" class="btn btn-outline-secondary">
                <i class="feather-arrow-right me-2"></i>
                السابق: دليل البدء
            </a>
            <a asp-action="CourseManagement" class="btn btn-primary" style="background: #1e3a5f; border-color: #1e3a5f;">
                التالي: إدارة الدورات
                <i class="feather-arrow-left ms-2"></i>
            </a>
        </div>
    </div>
</div>

