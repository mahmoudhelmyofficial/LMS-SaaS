@{
    ViewData["Title"] = "الأسئلة الشائعة";
}

@await Html.PartialAsync("_HelpStyles")

<!-- Page Header -->
<div class="page-header">
    <div class="page-header-left d-flex align-items-center">
        <div class="page-header-title">
            <h5 class="m-0">الأسئلة الشائعة</h5>
        </div>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a asp-area="Admin" asp-controller="Dashboard" asp-action="Index">الرئيسية</a></li>
            <li class="breadcrumb-item"><a asp-action="Index">مركز المساعدة</a></li>
            <li class="breadcrumb-item active">الأسئلة الشائعة</li>
        </ol>
    </div>
</div>

<div class="row">
    <div class="col-lg-3 mb-4">
        @await Html.PartialAsync("_HelpSidebar", "FAQ")
    </div>
    
    <div class="col-lg-9">
        <!-- Hero -->
        <div class="help-content-hero">
            <div class="help-content-icon pink">
                <i class="feather-help-circle"></i>
            </div>
            <div>
                <h1>الأسئلة الشائعة</h1>
                <p>إجابات سريعة على الأسئلة المتكررة من مديري النظام.</p>
            </div>
        </div>
        
        <!-- User Management FAQs -->
        <div class="help-section">
            <h3><i class="feather-users text-primary me-2"></i> إدارة المستخدمين</h3>
            
            <div class="help-accordion">
                <div class="help-accordion-item">
                    <div class="help-accordion-header">
                        <h6>كيف أعطّل حساب مستخدم؟</h6>
                        <i class="feather-chevron-left toggle-icon"></i>
                    </div>
                    <div class="help-accordion-content">
                        <p>اذهب إلى <strong>المستخدمين ← ابحث عن المستخدم ← اضغط تعديل ← غيّر الحالة لـ "معطّل"</strong>.</p>
                        <p>المستخدم المعطّل لن يستطيع تسجيل الدخول لكن بياناته محفوظة.</p>
                    </div>
                </div>
                
                <div class="help-accordion-item">
                    <div class="help-accordion-header">
                        <h6>كيف أحوّل مستخدم لمدرس؟</h6>
                        <i class="feather-chevron-left toggle-icon"></i>
                    </div>
                    <div class="help-accordion-content">
                        <p>اذهب إلى <strong>المستخدمين ← ابحث عن المستخدم ← تعديل ← غيّر الدور لـ "مدرس"</strong>.</p>
                        <p>أو انتظر طلب المستخدم ليصبح مدرساً ووافق عليه من قائمة الطلبات.</p>
                    </div>
                </div>
                
                <div class="help-accordion-item">
                    <div class="help-accordion-header">
                        <h6>كيف أعيد تعيين كلمة مرور مستخدم؟</h6>
                        <i class="feather-chevron-left toggle-icon"></i>
                    </div>
                    <div class="help-accordion-content">
                        <p>من صفحة تعديل المستخدم، اضغط <strong>"إرسال رابط إعادة تعيين"</strong>. سيصل للمستخدم بريد به رابط لتغيير كلمة المرور.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Course FAQs -->
        <div class="help-section">
            <h3><i class="feather-book text-primary me-2"></i> الدورات والمحتوى</h3>
            
            <div class="help-accordion">
                <div class="help-accordion-item">
                    <div class="help-accordion-header">
                        <h6>كيف أوافق على دورة جديدة؟</h6>
                        <i class="feather-chevron-left toggle-icon"></i>
                    </div>
                    <div class="help-accordion-content">
                        <p>اذهب إلى <strong>الدورات ← قيد المراجعة ← افتح الدورة ← راجع المحتوى ← اضغط "موافقة"</strong>.</p>
                    </div>
                </div>
                
                <div class="help-accordion-item">
                    <div class="help-accordion-header">
                        <h6>هل يمكنني تعديل دورة مدرس؟</h6>
                        <i class="feather-chevron-left toggle-icon"></i>
                    </div>
                    <div class="help-accordion-content">
                        <p>نعم، لكن يُفضل التواصل مع المدرس أولاً. التعديلات المباشرة تُستخدم فقط لتصحيح مخالفات السياسة.</p>
                    </div>
                </div>
                
                <div class="help-accordion-item">
                    <div class="help-accordion-header">
                        <h6>كيف أحذف دورة بها طلاب؟</h6>
                        <i class="feather-chevron-left toggle-icon"></i>
                    </div>
                    <div class="help-accordion-content">
                        <p>لا يمكن حذف دورة بها طلاب مسجلين. الخيارات:</p>
                        <ul>
                            <li>إلغاء نشر الدورة (إخفاؤها)</li>
                            <li>استرداد أموال الطلاب أولاً ثم الحذف</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Financial FAQs -->
        <div class="help-section">
            <h3><i class="feather-dollar-sign text-primary me-2"></i> المالية والمدفوعات</h3>
            
            <div class="help-accordion">
                <div class="help-accordion-item">
                    <div class="help-accordion-header">
                        <h6>كيف أعالج طلب سحب؟</h6>
                        <i class="feather-chevron-left toggle-icon"></i>
                    </div>
                    <div class="help-accordion-content">
                        <ol>
                            <li>اذهب لطلبات السحب المعلقة</li>
                            <li>راجع بيانات الطلب والمدرس</li>
                            <li>نفّذ التحويل من حسابك البنكي</li>
                            <li>عُد للطلب واضغط "تم التحويل"</li>
                        </ol>
                    </div>
                </div>
                
                <div class="help-accordion-item">
                    <div class="help-accordion-header">
                        <h6>كيف أغيّر عمولة المنصة؟</h6>
                        <i class="feather-chevron-left toggle-icon"></i>
                    </div>
                    <div class="help-accordion-content">
                        <p>اذهب إلى <strong>الإدارة المالية ← إعدادات العمولات ← عدّل النسبة الافتراضية</strong>.</p>
                        <p>يمكنك أيضاً تحديد عمولة مختلفة لكل مدرس من صفحة المدرس.</p>
                    </div>
                </div>
                
                <div class="help-accordion-item">
                    <div class="help-accordion-header">
                        <h6>كيف أرد مبلغ لطالب؟</h6>
                        <i class="feather-chevron-left toggle-icon"></i>
                    </div>
                    <div class="help-accordion-content">
                        <p>اذهب إلى <strong>طلبات الاسترداد ← ابحث عن الطلب ← راجعه ← وافق أو ارفض</strong>.</p>
                        <p>عند الموافقة، سيتم رد المبلغ تلقائياً حسب طريقة الدفع الأصلية.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Technical FAQs -->
        <div class="help-section">
            <h3><i class="feather-settings text-primary me-2"></i> المشاكل التقنية</h3>
            
            <div class="help-accordion">
                <div class="help-accordion-item">
                    <div class="help-accordion-header">
                        <h6>البريد الإلكتروني لا يصل للمستخدمين</h6>
                        <i class="feather-chevron-left toggle-icon"></i>
                    </div>
                    <div class="help-accordion-content">
                        <p>تحقق من:</p>
                        <ul>
                            <li>إعدادات SMTP صحيحة</li>
                            <li>كلمة مرور التطبيق وليس كلمة المرور العادية</li>
                            <li>المنفذ الصحيح (587 أو 465)</li>
                            <li>البريد ليس في قائمة السبام</li>
                        </ul>
                        <p>استخدم زر "اختبار الإرسال" في إعدادات البريد.</p>
                    </div>
                </div>
                
                <div class="help-accordion-item">
                    <div class="help-accordion-header">
                        <h6>الفيديوهات لا تعمل</h6>
                        <i class="feather-chevron-left toggle-icon"></i>
                    </div>
                    <div class="help-accordion-content">
                        <p>تحقق من:</p>
                        <ul>
                            <li>إعدادات خادم الفيديو</li>
                            <li>صيغة الفيديو (MP4 مستحسن)</li>
                            <li>مساحة التخزين كافية</li>
                            <li>سجل الأخطاء لمزيد من التفاصيل</li>
                        </ul>
                    </div>
                </div>
                
                <div class="help-accordion-item">
                    <div class="help-accordion-header">
                        <h6>المنصة بطيئة</h6>
                        <i class="feather-chevron-left toggle-icon"></i>
                    </div>
                    <div class="help-accordion-content">
                        <p>أسباب شائعة:</p>
                        <ul>
                            <li>الخادم يحتاج موارد أكثر</li>
                            <li>قاعدة البيانات تحتاج تحسين</li>
                            <li>الكاش غير مفعّل</li>
                        </ul>
                        <p>راجع لوحة المراقبة للتفاصيل.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Still Need Help -->
        <div class="help-section">
            <div class="text-center py-4">
                <i class="feather-headphones" style="font-size: 3rem; color: #1e3a5f;"></i>
                <h4 class="mt-3">لم تجد إجابة لسؤالك؟</h4>
                <p class="text-muted">فريق الدعم الفني متاح لمساعدتك</p>
                <a asp-area="Admin" asp-controller="Support" asp-action="Index" class="btn btn-primary mt-2" style="background: #1e3a5f; border-color: #1e3a5f;">
                    <i class="feather-headphones me-2"></i>
                    تذاكر الدعم
                </a>
            </div>
        </div>
        
        <!-- Navigation -->
        <div class="help-navigation">
            <a asp-action="SecurityMonitoring" class="btn btn-outline-secondary">
                <i class="feather-arrow-right me-2"></i>
                السابق: الأمان والمراقبة
            </a>
            <a asp-action="Index" class="btn btn-primary" style="background: #1e3a5f; border-color: #1e3a5f;">
                العودة للرئيسية
                <i class="feather-home ms-2"></i>
            </a>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // FAQ Accordion functionality
        document.querySelectorAll('.help-accordion-header').forEach(function(header) {
            header.addEventListener('click', function() {
                var item = this.parentElement;
                item.classList.toggle('open');
            });
        });
    </script>
}

