@model LMS.Areas.Admin.ViewModels.VideoSettingViewModel
@{
    ViewData["Title"] = Html.T("إعدادات الفيديو", "Video settings");
    var breadcrumbs = new List<(string Name, string? Url)>
    {
        (Html.T("الإعدادات", "Settings"), Url.Action("Index", "Settings")),
        (Html.T("الفيديو", "Video"), null)
    };
    ViewData["Breadcrumbs"] = breadcrumbs;
}

@await Html.PartialAsync("_PageHeader")

<div class="main-content">
    <form asp-action="Index" method="post">
        @Html.AntiForgeryToken()
        <input type="hidden" asp-for="Id" />
        <div class="row">
            <div class="col-lg-8">
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title">@Html.T("إعدادات التشغيل", "Playback settings")</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label class="form-label">@Html.T("مزود الفيديو الافتراضي", "Default video provider")</label>
                            <select class="form-select" asp-for="DefaultProvider">
                                <option value="YouTube">YouTube</option>
                                <option value="Vimeo">Vimeo</option>
                                <option value="BunnyStream">Bunny Stream</option>
                                <option value="Cloudflare">Cloudflare Stream</option>
                                <option value="SelfHosted">@Html.T("استضافة ذاتية", "Self-hosted")</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">@Html.T("جودة التشغيل الافتراضية", "Default playback quality")</label>
                            <select class="form-select" asp-for="DefaultQuality">
                                <option value="auto">@Html.T("تلقائي", "Auto")</option>
                                <option value="1080p">1080p</option>
                                <option value="720p">720p</option>
                                <option value="480p">480p</option>
                                <option value="360p">360p</option>
                            </select>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" asp-for="EnableAutoQuality" id="autoQuality">
                            <label class="form-check-label" for="autoQuality">
                                @Html.T("تفعيل الجودة التلقائية", "Enable auto quality")
                            </label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" asp-for="EnableDownload" id="allowDownload">
                            <label class="form-check-label" for="allowDownload">
                                @Html.T("السماح بتحميل الفيديوهات", "Allow video download")
                            </label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" asp-for="EnableSubtitles" id="enableSubtitles">
                            <label class="form-check-label" for="enableSubtitles">
                                @Html.T("تفعيل الترجمة", "Enable subtitles")
                            </label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" asp-for="EnableAdaptiveBitrate" id="adaptiveBitrate">
                            <label class="form-check-label" for="adaptiveBitrate">
                                @Html.T("تفعيل معدل البت التكيفي", "Enable adaptive bitrate")
                            </label>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">@Html.T("الحد الأقصى لحجم الملف (MB)", "Max file size (MB)")</label>
                                <input type="number" class="form-control" asp-for="MaxFileSizeMB" min="1" />
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">@Html.T("الحد الأقصى للمدة (دقيقة)", "Max duration (minutes)")</label>
                                <input type="number" class="form-control" asp-for="MaxDurationMinutes" min="1" />
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title">@Html.T("الأمان والحماية", "Security & protection")</h5>
                    </div>
                    <div class="card-body">
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" asp-for="EnableDRM" id="enableDRM">
                            <label class="form-check-label" for="enableDRM">
                                @Html.T("تفعيل حماية DRM", "Enable DRM protection")
                            </label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" asp-for="EnableEncryption" id="enableEncryption">
                            <label class="form-check-label" for="enableEncryption">
                                @Html.T("تفعيل التشفير", "Enable encryption")
                            </label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" asp-for="EnableWatermark" id="enableWatermark">
                            <label class="form-check-label" for="enableWatermark">
                                @Html.T("إضافة علامة مائية", "Add watermark")
                            </label>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">@Html.T("نص العلامة المائية", "Watermark text")</label>
                            <input type="text" class="form-control" asp-for="WatermarkText" placeholder="@Html.T("اسم المنصة", "Platform name")" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">@Html.T("موضع العلامة المائية", "Watermark position")</label>
                            <select class="form-select" asp-for="WatermarkPosition">
                                <option value="TopLeft">@Html.T("أعلى اليسار", "Top left")</option>
                                <option value="TopRight">@Html.T("أعلى اليمين", "Top right")</option>
                                <option value="BottomLeft">@Html.T("أسفل اليسار", "Bottom left")</option>
                                <option value="BottomRight">@Html.T("أسفل اليمين", "Bottom right")</option>
                                <option value="Center">@Html.T("المنتصف", "Center")</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">@Html.T("شفافية العلامة المائية (%)", "Watermark opacity (%)")</label>
                            <input type="number" class="form-control" asp-for="WatermarkOpacity" min="0" max="100" />
                        </div>
                    </div>
                </div>

                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title">@Html.T("مفاتيح API للخدمات", "API keys for services")</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label class="form-label">@Html.T("مفتاح YouTube API", "YouTube API Key")</label>
                            <input type="text" class="form-control" asp-for="YouTubeApiKey" placeholder="AIza..." />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">@Html.T("رمز وصول Vimeo", "Vimeo Access Token")</label>
                            <input type="password" class="form-control" asp-for="VimeoAccessToken" />
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">@Html.T("مفتاح Bunny Stream API", "Bunny Stream API Key")</label>
                                <input type="password" class="form-control" asp-for="BunnyStreamApiKey" />
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">@Html.T("معرف مكتبة Bunny Stream", "Bunny Stream Library ID")</label>
                                <input type="text" class="form-control" asp-for="BunnyStreamLibraryId" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">@Html.T("معرف حساب Cloudflare", "Cloudflare Account ID")</label>
                                <input type="text" class="form-control" asp-for="CloudflareAccountId" />
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">@Html.T("رمز Cloudflare API", "Cloudflare API Token")</label>
                                <input type="password" class="form-control" asp-for="CloudflareApiToken" />
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title">@Html.T("التخزين و CDN", "Storage & CDN")</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label class="form-label">@Html.T("مزود التخزين", "Storage provider")</label>
                            <select class="form-select" asp-for="StorageProvider">
                                <option value="Local">@Html.T("خادم محلي", "Local server")</option>
                                <option value="S3">Amazon S3</option>
                                <option value="Azure">Azure Storage</option>
                                <option value="GoogleCloud">Google Cloud Storage</option>
                                <option value="BunnyCDN">Bunny CDN</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">@Html.T("مسار التخزين", "Storage path")</label>
                            <input type="text" class="form-control" asp-for="StoragePathPrefix" placeholder="videos/" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">@Html.T("رابط CDN", "CDN URL")</label>
                            <input type="url" class="form-control" asp-for="CDNUrl" placeholder="https://cdn.example.com" />
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" asp-for="EnableTranscoding" id="enableTranscoding">
                            <label class="form-check-label" for="enableTranscoding">
                                @Html.T("تفعيل تحويل الفيديو التلقائي", "Enable automatic video transcoding")
                            </label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" asp-for="EnableThumbnailGeneration" id="enableThumbnails">
                            <label class="form-check-label" for="enableThumbnails">
                                @Html.T("إنشاء صور مصغرة تلقائياً", "Generate thumbnails automatically")
                            </label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" asp-for="EnableAnalytics" id="enableAnalytics">
                            <label class="form-check-label" for="enableAnalytics">
                                @Html.T("تفعيل تحليلات المشاهدة", "Enable viewing analytics")
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="card-title">@Html.T("إجراءات", "Actions")</h5>
                    </div>
                    <div class="card-body">
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary">
                                <i class="feather-save me-2"></i>
                                @Html.T("حفظ الإعدادات", "Save settings")
                            </button>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title">@Html.T("الصيغ المدعومة", "Supported formats")</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label class="form-label">@Html.T("الصيغ المسموحة", "Allowed formats")</label>
                            <input type="text" class="form-control" asp-for="AllowedFormats" placeholder="mp4,webm,mov" />
                            <small class="text-muted">@Html.T("افصل بين الصيغ بفاصلة", "Separate formats with a comma")</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
