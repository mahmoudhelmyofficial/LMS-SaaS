@model LMS.Areas.Admin.ViewModels.ReportsIndexViewModel

@{
    ViewData["Title"] = Html.T("التقارير", "Reports");
    var breadcrumbs = new List<(string Name, string? Url)>
    {
        (Html.T("لوحة التحكم", "Dashboard"), Url.Action("Index", "Dashboard")),
        (Html.T("التقارير", "Reports"), null)
    };
    ViewData["Breadcrumbs"] = breadcrumbs;
    ViewData["ShowStats"] = true;
}

@await Html.PartialAsync("_PageHeader")

<!-- Main Content -->
<div class="main-content">
    <!-- Stats Cards -->
    <div class="row mb-4">
        <div class="col-lg-3 col-md-6">
            <div class="card stretch stretch-full">
                <div class="card-body">
                    <div class="d-flex align-items-center gap-3">
                        <div class="avatar-text avatar-xl bg-soft-primary text-primary">
                            <i class="feather-file-text"></i>
                        </div>
                        <div>
                            <span class="text-muted d-block">@Html.T("التقارير الأخيرة", "Recent reports")</span>
                            <h3 class="fw-bold mb-0">@Model.RecentReportsCount</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6">
            <div class="card stretch stretch-full">
                <div class="card-body">
                    <div class="d-flex align-items-center gap-3">
                        <div class="avatar-text avatar-xl bg-soft-success text-success">
                            <i class="feather-calendar"></i>
                        </div>
                        <div>
                            <span class="text-muted d-block">@Html.T("التقارير المجدولة", "Scheduled reports")</span>
                            <h3 class="fw-bold mb-0">@Model.ScheduledReportsCount</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6">
            <div class="card stretch stretch-full">
                <div class="card-body">
                    <div class="d-flex align-items-center gap-3">
                        <div class="avatar-text avatar-xl bg-soft-warning text-warning">
                            <i class="feather-download"></i>
                        </div>
                        <div>
                            <span class="text-muted d-block">@Html.T("التقارير المصدرة", "Exported reports")</span>
                            <h3 class="fw-bold mb-0">@Model.ExportedCount</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-6">
            <div class="card stretch stretch-full">
                <div class="card-body">
                    <div class="d-flex align-items-center gap-3">
                        <div class="avatar-text avatar-xl bg-soft-info text-info">
                            <i class="feather-layers"></i>
                        </div>
                        <div>
                            <span class="text-muted d-block">@Html.T("قوالب التقارير", "Report templates")</span>
                            <h3 class="fw-bold mb-0">@Model.TemplatesCount</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Report Categories -->
    <div class="row">
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card stretch stretch-full h-100">
                <div class="card-body text-center">
                    <div class="avatar-text avatar-xxl bg-soft-primary text-primary mx-auto mb-3">
                        <i class="feather-users fs-1"></i>
                    </div>
                    <h5 class="fw-bold">@Html.T("تقارير المستخدمين", "User reports")</h5>
                    <p class="text-muted mb-4">@Html.T("إحصائيات ونمو المستخدمين والطلاب والمدرسين", "User, student and instructor stats and growth")</p>
                    <a asp-action="Users" class="btn btn-primary">
                        <i class="feather-arrow-left me-2"></i>
                        @Html.T("عرض التقرير", "View report")
                    </a>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card stretch stretch-full h-100">
                <div class="card-body text-center">
                    <div class="avatar-text avatar-xxl bg-soft-success text-success mx-auto mb-3">
                        <i class="feather-user-check fs-1"></i>
                    </div>
                    <h5 class="fw-bold">@Html.T("تقارير التسجيلات", "Enrollment reports")</h5>
                    <p class="text-muted mb-4">@Html.T("إحصائيات التسجيل في الدورات والاشتراكات", "Course and subscription enrollment stats")</p>
                    <a asp-action="Enrollments" class="btn btn-success">
                        <i class="feather-arrow-left me-2"></i>
                        @Html.T("عرض التقرير", "View report")
                    </a>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card stretch stretch-full h-100">
                <div class="card-body text-center">
                    <div class="avatar-text avatar-xxl bg-soft-warning text-warning mx-auto mb-3">
                        <i class="feather-bar-chart-2 fs-1"></i>
                    </div>
                    <h5 class="fw-bold">@Html.T("تقارير أداء الدورات", "Course performance reports")</h5>
                    <p class="text-muted mb-4">@Html.T("أداء الدورات ومعدلات الإكمال والتقييمات", "Course performance, completion rates and ratings")</p>
                    <a asp-action="CoursePerformance" class="btn btn-warning">
                        <i class="feather-arrow-left me-2"></i>
                        @Html.T("عرض التقرير", "View report")
                    </a>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card stretch stretch-full h-100">
                <div class="card-body text-center">
                    <div class="avatar-text avatar-xxl bg-soft-danger text-danger mx-auto mb-3">
                        <i class="feather-dollar-sign fs-1"></i>
                    </div>
                    <h5 class="fw-bold">@Html.T("تقارير المبيعات", "Sales reports")</h5>
                    <p class="text-muted mb-4">@Html.T("إيرادات ومبيعات الدورات والاشتراكات", "Course and subscription revenue and sales")</p>
                    <a asp-action="Sales" class="btn btn-danger">
                        <i class="feather-arrow-left me-2"></i>
                        @Html.T("عرض التقرير", "View report")
                    </a>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card stretch stretch-full h-100">
                <div class="card-body text-center">
                    <div class="avatar-text avatar-xxl bg-soft-info text-info mx-auto mb-3">
                        <i class="feather-trending-up fs-1"></i>
                    </div>
                    <h5 class="fw-bold">@Html.T("تقارير الإيرادات", "Revenue reports")</h5>
                    <p class="text-muted mb-4">@Html.T("تحليل الإيرادات والنمو المالي", "Revenue analysis and financial growth")</p>
                    <a asp-action="Revenue" class="btn btn-info">
                        <i class="feather-arrow-left me-2"></i>
                        @Html.T("عرض التقرير", "View report")
                    </a>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-md-6 mb-4">
            <div class="card stretch stretch-full h-100">
                <div class="card-body text-center">
                    <div class="avatar-text avatar-xxl bg-soft-secondary text-secondary mx-auto mb-3">
                        <i class="feather-book fs-1"></i>
                    </div>
                    <h5 class="fw-bold">@Html.T("تقارير الدورات", "Course reports")</h5>
                    <p class="text-muted mb-4">@Html.T("تفاصيل وإحصائيات الدورات التدريبية", "Course details and statistics")</p>
                    <a asp-action="Courses" class="btn btn-secondary">
                        <i class="feather-arrow-left me-2"></i>
                        @Html.T("عرض التقرير", "View report")
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
