@model LMS.Areas.Instructor.ViewModels.InstructorSocialLinksViewModel

@{
    ViewData["Title"] = Html.T("روابط التواصل الاجتماعي", "Social Links");
    ViewData["Subtitle"] = Html.T("أضف روابط حساباتك على وسائل التواصل الاجتماعي", "Add your social media profile links");
}

@{
    var indexUrl = Url.Action("Index");
    var actionButtonsHtml = "<a href='" + indexUrl + "' class='btn btn-light'>" +
        "<i class='feather-arrow-right me-2'></i>" +
        "العودة للملف الشخصي" +
        "</a>";
}
@await Html.PartialAsync("_PageHeader", new ViewDataDictionary(ViewData)
{
    { "ActionButtons", Html.Raw(actionButtonsHtml) }
})

<div class="main-content">
    @await Html.PartialAsync("_AlertMessages")

    <form asp-action="SocialLinks" method="post" id="socialLinksForm">
        @Html.AntiForgeryToken()
        
        <div class="row">
            <div class="col-lg-8">
                <div class="card stretch stretch-full mb-4">
                    <div class="card-header">
                        <h5 class="card-title">
                            <i class="feather-link me-2 text-primary"></i>
                            روابط التواصل الاجتماعي
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info mb-4">
                            <div class="d-flex align-items-start">
                                <i class="feather-info fs-18 me-3"></i>
                                <div>
                                    <strong>مهم:</strong> أضف روابط حساباتك على وسائل التواصل الاجتماعي لزيادة مصداقيتك ومساعدة الطلاب على التواصل معك.
                                </div>
                            </div>
                        </div>

                        <div class="row g-4">
                            <div class="col-12">
                                <label class="form-label" asp-for="Website">
                                    <i class="feather-globe me-1"></i>
                                    الموقع الإلكتروني الشخصي
                                </label>
                                <input asp-for="Website" type="url" class="form-control" placeholder="https://www.example.com" />
                                <span asp-validation-for="Website" class="text-danger"></span>
                                <div class="form-text">
                                    <i class="feather-info me-1"></i>
                                    رابط موقعك الشخصي أو محفظة أعمالك
                                </div>
                            </div>

                            <div class="col-12">
                                <label class="form-label" asp-for="LinkedInUrl">
                                    <i class="feather-linkedin me-1"></i>
                                    LinkedIn
                                </label>
                                <input asp-for="LinkedInUrl" type="url" class="form-control" placeholder="https://www.linkedin.com/in/yourprofile" />
                                <span asp-validation-for="LinkedInUrl" class="text-danger"></span>
                            </div>

                            <div class="col-12">
                                <label class="form-label" asp-for="TwitterUrl">
                                    <i class="feather-twitter me-1"></i>
                                    Twitter / X
                                </label>
                                <input asp-for="TwitterUrl" type="url" class="form-control" placeholder="https://twitter.com/yourhandle" />
                                <span asp-validation-for="TwitterUrl" class="text-danger"></span>
                            </div>

                            <div class="col-12">
                                <label class="form-label" asp-for="FacebookUrl">
                                    <i class="feather-facebook me-1"></i>
                                    Facebook
                                </label>
                                <input asp-for="FacebookUrl" type="url" class="form-control" placeholder="https://www.facebook.com/yourpage" />
                                <span asp-validation-for="FacebookUrl" class="text-danger"></span>
                            </div>

                            <div class="col-12">
                                <label class="form-label" asp-for="YouTubeUrl">
                                    <i class="feather-youtube me-1"></i>
                                    YouTube
                                </label>
                                <input asp-for="YouTubeUrl" type="url" class="form-control" placeholder="https://www.youtube.com/@@yourchannel" />
                                <span asp-validation-for="YouTubeUrl" class="text-danger"></span>
                            </div>

                            <div class="col-12">
                                <label class="form-label" asp-for="InstagramUrl">
                                    <i class="feather-instagram me-1"></i>
                                    Instagram
                                </label>
                                <input asp-for="InstagramUrl" type="url" class="form-control" placeholder="https://www.instagram.com/yourhandle" />
                                <span asp-validation-for="InstagramUrl" class="text-danger"></span>
                            </div>

                            <div class="col-12">
                                <label class="form-label" asp-for="GitHubUrl">
                                    <i class="feather-github me-1"></i>
                                    GitHub
                                </label>
                                <input asp-for="GitHubUrl" type="url" class="form-control" placeholder="https://github.com/yourusername" />
                                <span asp-validation-for="GitHubUrl" class="text-danger"></span>
                            </div>

                            <div class="col-12">
                                <label class="form-label" asp-for="TikTokUrl">
                                    <i class="feather-video me-1"></i>
                                    TikTok
                                </label>
                                <input asp-for="TikTokUrl" type="url" class="form-control" placeholder="https://www.tiktok.com/@@yourhandle" />
                                <span asp-validation-for="TikTokUrl" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="card stretch stretch-full mb-4 bg-soft-info border-0">
                    <div class="card-body">
                        <div class="text-center mb-3">
                            <i class="feather-share-2 text-info" style="font-size: 48px;"></i>
                        </div>
                        <h6 class="text-center mb-3">@Html.T("فوائد إضافة الروابط", "Benefits of adding links")</h6>
                        <ul class="fs-13 mb-0">
                            <li class="mb-2">زيادة المصداقية والثقة</li>
                            <li class="mb-2">سهولة التواصل مع الطلاب</li>
                            <li class="mb-2">عرض محتوى إضافي</li>
                            <li class="mb-0">بناء مجتمع حول دوراتك</li>
                        </ul>
                    </div>
                </div>

                <div class="card stretch stretch-full">
                    <div class="card-header">
                        <h5 class="card-title">@Html.T("نصائح", "Tips")</h5>
                    </div>
                    <div class="card-body">
                        <ul class="fs-13 mb-0">
                            <li class="mb-2">تأكد من أن الروابط صحيحة وتعمل</li>
                            <li class="mb-2">استخدم حسابات احترافية</li>
                            <li class="mb-2">حدّث الروابط بانتظام</li>
                            <li class="mb-0">أضف فقط الروابط النشطة</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="card stretch stretch-full">
                    <div class="card-body">
                        <div class="d-flex align-items-center justify-content-between gap-3">
                            <a href="@Url.Action("Index")" class="btn btn-light">
                                <i class="feather-x me-2"></i>
                                إلغاء
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="feather-save me-2"></i>
                                حفظ الروابط
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    
    <script>
        // URL validation on input
        document.querySelectorAll('#socialLinksForm input[type="url"]').forEach(input => {
            input.addEventListener('blur', function() {
                const url = this.value.trim();
                if (url && !isValidUrl(url)) {
                    this.classList.add('is-invalid');
                } else {
                    this.classList.remove('is-invalid');
                }
            });
        });

        function isValidUrl(string) {
            try {
                const url = new URL(string);
                return url.protocol === 'http:' || url.protocol === 'https:';
            } catch (_) {
                return false;
            }
        }
    </script>
}
