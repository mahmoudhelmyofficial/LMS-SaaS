@{
    ViewData["Title"] = "دليل الأرباح والتسويق";
}

@await Html.PartialAsync("_HelpStyles")

<!-- Page Header -->
<div class="page-header">
    <div class="page-header-left d-flex align-items-center">
        <div class="page-header-title">
            <h5 class="m-0">الأرباح والتسويق</h5>
        </div>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a asp-area="Instructor" asp-controller="Dashboard" asp-action="Index">الرئيسية</a></li>
            <li class="breadcrumb-item"><a asp-action="Index">مركز المساعدة</a></li>
            <li class="breadcrumb-item active">الأرباح والتسويق</li>
        </ol>
    </div>
</div>

<div class="row">
    <div class="col-lg-3 mb-4">
        @await Html.PartialAsync("_HelpSidebar", "EarningsMarketing")
    </div>
    
    <div class="col-lg-9">
        <!-- Hero -->
        <div class="help-content-hero">
            <div class="help-content-icon orange">
                <i class="feather-dollar-sign"></i>
            </div>
            <div>
                <h1>الأرباح والتسويق</h1>
                <p>كل ما تحتاج معرفته عن الأرباح وطرق الترويج لدوراتك.</p>
            </div>
        </div>
        
        <!-- Commission Structure -->
        <div class="help-section" id="commissions">
            <h3><i class="feather-percent text-primary me-2"></i> نظام العمولات</h3>
            
            <p>عند بيع دورة، يتم توزيع الإيرادات كالتالي:</p>
            
            <div class="row g-4 mb-4">
                <div class="col-md-6">
                    <div class="card border-0 bg-success text-white">
                        <div class="card-body text-center py-4">
                            <h2 class="display-4 fw-bold mb-0">70%</h2>
                            <p class="mb-0">نصيبك كمدرس</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card border-0 bg-light">
                        <div class="card-body text-center py-4">
                            <h2 class="display-4 fw-bold mb-0 text-muted">30%</h2>
                            <p class="mb-0 text-muted">عمولة المنصة</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="help-callout info">
                <i class="feather-info"></i>
                <div>
                    <strong>ملاحظة:</strong> نسبة العمولة قد تختلف حسب اتفاقيتك مع المنصة أو الحملات الترويجية الخاصة.
                </div>
            </div>
        </div>
        
        <!-- Earnings Dashboard -->
        <div class="help-section" id="earnings-dashboard">
            <h3><i class="feather-trending-up text-primary me-2"></i> لوحة الأرباح</h3>
            
            <p>في صفحة الأرباح ستجد:</p>
            
            <div class="row g-3">
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon green"><i class="feather-dollar-sign"></i></div>
                        <div>
                            <h6>الرصيد المتاح</h6>
                            <p>المبلغ الجاهز للسحب</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon orange"><i class="feather-clock"></i></div>
                        <div>
                            <h6>الرصيد المعلق</h6>
                            <p>قيد المعالجة (عادة 7-14 يوم)</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon blue"><i class="feather-bar-chart-2"></i></div>
                        <div>
                            <h6>إجمالي الأرباح</h6>
                            <p>كل ما ربحته حتى الآن</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <a asp-area="Instructor" asp-controller="Earnings" asp-action="Index" class="btn btn-outline-primary mt-3">
                <i class="feather-dollar-sign me-2"></i>
                عرض الأرباح
            </a>
        </div>
        
        <!-- Withdrawal -->
        <div class="help-section" id="withdrawal">
            <h3><i class="feather-credit-card text-primary me-2"></i> سحب الأرباح</h3>
            
            <div class="help-callout warning">
                <i class="feather-alert-triangle"></i>
                <div>
                    <strong>الحد الأدنى للسحب:</strong> يجب أن يكون رصيدك المتاح 100 جنيه على الأقل لطلب السحب.
                </div>
            </div>
            
            <h5>خطوات طلب السحب:</h5>
            <div class="help-steps-flow">
                <div class="flow-step">
                    <div class="flow-number">1</div>
                    <div class="flow-content">
                        <h6>تحقق من الرصيد</h6>
                        <p>تأكد من وجود رصيد كافٍ</p>
                    </div>
                    <div class="flow-arrow"><i class="feather-arrow-left"></i></div>
                </div>
                <div class="flow-step">
                    <div class="flow-number">2</div>
                    <div class="flow-content">
                        <h6>اختر الطريقة</h6>
                        <p>فودافون كاش، تحويل بنكي، إلخ</p>
                    </div>
                    <div class="flow-arrow"><i class="feather-arrow-left"></i></div>
                </div>
                <div class="flow-step">
                    <div class="flow-number">3</div>
                    <div class="flow-content">
                        <h6>أدخل المبلغ</h6>
                        <p>وتفاصيل الحساب</p>
                    </div>
                    <div class="flow-arrow"><i class="feather-arrow-left"></i></div>
                </div>
                <div class="flow-step">
                    <div class="flow-number">4</div>
                    <div class="flow-content">
                        <h6>انتظر المعالجة</h6>
                        <p>1-3 أيام عمل</p>
                    </div>
                </div>
            </div>
            
            <a asp-area="Instructor" asp-controller="WithdrawalRequests" asp-action="Create" class="btn btn-primary mt-3">
                <i class="feather-credit-card me-2"></i>
                طلب سحب الآن
            </a>
        </div>
        
        <!-- Coupons -->
        <div class="help-section" id="coupons">
            <h3><i class="feather-tag text-primary me-2"></i> إنشاء الكوبونات</h3>
            
            <p>الكوبونات أداة قوية لزيادة المبيعات وجذب طلاب جدد.</p>
            
            <h5>أنواع الخصم:</h5>
            <div class="row g-3 mb-4">
                <div class="col-md-6">
                    <div class="feature-card">
                        <div class="feature-icon purple"><i class="feather-percent"></i></div>
                        <div>
                            <h6>خصم نسبة مئوية</h6>
                            <p>مثال: خصم 20%</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="feature-card">
                        <div class="feature-icon green"><i class="feather-dollar-sign"></i></div>
                        <div>
                            <h6>خصم مبلغ ثابت</h6>
                            <p>مثال: خصم 50 جنيه</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <h5>إعدادات الكوبون:</h5>
            <ul>
                <li><strong>كود الكوبون:</strong> 4-20 حرف/رقم (مثال: SUMMER2024)</li>
                <li><strong>الحد الأقصى للاستخدام:</strong> كم مرة يمكن استخدامه</li>
                <li><strong>الاستخدام لكل مستخدم:</strong> مرة واحدة أو أكثر</li>
                <li><strong>تاريخ الصلاحية:</strong> متى ينتهي الكوبون</li>
                <li><strong>الدورات المحددة:</strong> لجميع دوراتك أو دورات معينة</li>
            </ul>
            
            <a asp-area="Instructor" asp-controller="Coupons" asp-action="Create" class="btn btn-outline-primary mt-3">
                <i class="feather-plus-circle me-2"></i>
                إنشاء كوبون جديد
            </a>
        </div>
        
        <!-- Flash Sales -->
        <div class="help-section" id="flash-sales">
            <h3><i class="feather-zap text-primary me-2"></i> العروض السريعة (Flash Sales)</h3>
            
            <p>عروض محدودة الوقت تخلق شعوراً بالإلحاح:</p>
            
            <div class="help-callout success">
                <i class="feather-trending-up"></i>
                <div>
                    <strong>نصيحة:</strong> العروض المحدودة (24-48 ساعة) تحقق نتائج أفضل من العروض الطويلة.
                </div>
            </div>
            
            <a asp-area="Instructor" asp-controller="FlashSales" asp-action="Create" class="btn btn-outline-primary">
                <i class="feather-zap me-2"></i>
                إنشاء عرض سريع
            </a>
        </div>
        
        <!-- Affiliates -->
        <div class="help-section" id="affiliates">
            <h3><i class="feather-link text-primary me-2"></i> التسويق بالعمولة</h3>
            
            <p>أنشئ روابط إحالة واربح عمولة عند الترويج لدوراتك:</p>
            
            <div class="help-steps-flow">
                <div class="flow-step">
                    <div class="flow-number">1</div>
                    <div class="flow-content">
                        <h6>أنشئ رابط</h6>
                        <p>رابط إحالة فريد</p>
                    </div>
                    <div class="flow-arrow"><i class="feather-arrow-left"></i></div>
                </div>
                <div class="flow-step">
                    <div class="flow-number">2</div>
                    <div class="flow-content">
                        <h6>شارك الرابط</h6>
                        <p>عبر السوشيال ميديا</p>
                    </div>
                    <div class="flow-arrow"><i class="feather-arrow-left"></i></div>
                </div>
                <div class="flow-step">
                    <div class="flow-number">3</div>
                    <div class="flow-content">
                        <h6>اربح عمولة</h6>
                        <p>لكل مبيعة عبر رابطك</p>
                    </div>
                </div>
            </div>
            
            <a asp-area="Instructor" asp-controller="Affiliates" asp-action="Create" class="btn btn-outline-primary mt-3">
                <i class="feather-link me-2"></i>
                إنشاء رابط إحالة
            </a>
        </div>
        
        <!-- Navigation -->
        <div class="help-navigation">
            <a asp-action="LiveSessions" class="btn btn-outline-secondary">
                <i class="feather-arrow-right me-2"></i>
                السابق: الجلسات المباشرة
            </a>
            <a asp-action="StudentManagement" class="btn btn-primary">
                التالي: إدارة الطلاب
                <i class="feather-arrow-left ms-2"></i>
            </a>
        </div>
    </div>
</div>

