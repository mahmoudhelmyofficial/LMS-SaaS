@model LMS.Domain.Entities.Notifications.NotificationPreference
@{
    ViewData["Title"] = Html.T("إعدادات الإشعارات", "Notification Settings");
}

<!-- Alert Messages -->
@await Html.PartialAsync("_AlertMessage")

<!-- Page Header -->
<div class="card stretch stretch-full mb-4">
    <div class="card-body">
        <div class="d-flex align-items-center">
            <a asp-action="Index" class="btn btn-light me-3">
                <i class="feather-arrow-right"></i>
            </a>
            <div>
                <h3 class="fw-bold mb-2">
                    <i class="feather-bell text-primary me-2"></i>
                    @Html.T("إعدادات الإشعارات", "Notification Settings")
                </h3>
                <p class="text-muted mb-0">@Html.T("تحكم في الإشعارات التي تريد استلامها", "Control which notifications you want to receive")</p>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-8 mx-auto">
        <form asp-action="UpdateNotificationPreferences" method="post">
            @Html.AntiForgeryToken()
            <!-- Email Notifications -->
            <div class="card stretch stretch-full mb-4">
                <div class="card-header">
                    <h5 class="fw-bold mb-0">
                        <i class="feather-mail text-primary me-2"></i>
                        @Html.T("إشعارات البريد الإلكتروني", "Email Notifications")
                    </h5>
                </div>
                <div class="card-body">
                    <div class="mb-4">
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" name="EmailNotifications" value="true" id="emailNotifications" @(Model.EmailNotifications ? "checked" : "") />
                            <label class="form-check-label" for="emailNotifications">
                                <strong>@Html.T("تفعيل إشعارات البريد", "Enable Email Notifications")</strong>
                                <p class="text-muted small mb-0">@Html.T("تلقي الإشعارات عبر البريد الإلكتروني", "Receive notifications via email")</p>
                            </label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" name="CourseUpdates" value="true" id="emailCourseUpdates" @(Model.CourseUpdates ? "checked" : "") />
                            <label class="form-check-label" for="emailCourseUpdates">
                                <strong>@Html.T("تحديثات الدورات", "Course Updates")</strong>
                                <p class="text-muted small mb-0">@Html.T("إشعارات عند إضافة محتوى جديد للدورات المسجل فيها", "Notifications when new content is added to enrolled courses")</p>
                            </label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" name="AssignmentReminders" value="true" id="emailAssignments" @(Model.AssignmentReminders ? "checked" : "") />
                            <label class="form-check-label" for="emailAssignments">
                                <strong>@Html.T("الواجبات والاختبارات", "Assignments & Quizzes")</strong>
                                <p class="text-muted small mb-0">@Html.T("تذكير بمواعيد تسليم الواجبات والاختبارات القادمة", "Reminders for upcoming assignment deadlines and quizzes")</p>
                            </label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" name="QuizReminders" value="true" id="quizReminders" @(Model.QuizReminders ? "checked" : "") />
                            <label class="form-check-label" for="quizReminders">
                                <strong>@Html.T("تذكيرات الاختبارات", "Quiz Reminders")</strong>
                                <p class="text-muted small mb-0">@Html.T("تذكير بالاختبارات القادمة", "Reminders for upcoming quizzes")</p>
                            </label>
                        </div>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" name="NewCoursesFromInstructors" value="true" id="emailMarketing" @(Model.NewCoursesFromInstructors ? "checked" : "") />
                            <label class="form-check-label" for="emailMarketing">
                                <strong>@Html.T("العروض والدورات الجديدة", "New Courses & Offers")</strong>
                                <p class="text-muted small mb-0">@Html.T("دورات جديدة من المدرسين المتابَعين", "New courses from followed instructors")</p>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Push Notifications -->
            <div class="card stretch stretch-full mb-4">
                <div class="card-header">
                    <h5 class="fw-bold mb-0">
                        <i class="feather-smartphone text-success me-2"></i>
                        @Html.T("الإشعارات الفورية", "Push Notifications")
                    </h5>
                </div>
                <div class="card-body">
                    <div class="mb-4">
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" name="PushNotifications" value="true" id="pushNotifications" @(Model.PushNotifications ? "checked" : "") />
                            <label class="form-check-label" for="pushNotifications">
                                <strong>@Html.T("تفعيل الإشعارات الفورية", "Enable Push Notifications")</strong>
                                <p class="text-muted small mb-0">@Html.T("تلقي إشعارات المتصفح", "Receive browser notifications")</p>
                            </label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" name="CertificateIssued" value="true" id="certificateIssued" @(Model.CertificateIssued ? "checked" : "") />
                            <label class="form-check-label" for="certificateIssued">
                                <strong>@Html.T("إصدار الشهادات", "Certificate Issuance")</strong>
                                <p class="text-muted small mb-0">@Html.T("إشعار عند إصدار شهادة جديدة لك", "Notification when a new certificate is issued for you")</p>
                            </label>
                        </div>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" name="BadgeEarned" value="true" id="badgeEarned" @(Model.BadgeEarned ? "checked" : "") />
                            <label class="form-check-label" for="badgeEarned">
                                <strong>@Html.T("الإنجازات والشارات", "Achievements & Badges")</strong>
                                <p class="text-muted small mb-0">@Html.T("إشعار عند الحصول على شارة أو إنجاز جديد", "Notification when you earn a new badge or achievement")</p>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Study Reminders -->
            <div class="card stretch stretch-full mb-4">
                <div class="card-header">
                    <h5 class="fw-bold mb-0">
                        <i class="feather-clock text-warning me-2"></i>
                        @Html.T("الملخصات الدورية", "Periodic Summaries")
                    </h5>
                </div>
                <div class="card-body">
                    <div class="mb-4">
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" name="WeeklyDigest" value="true" id="weeklyDigest" @(Model.WeeklyDigest ? "checked" : "") />
                            <label class="form-check-label" for="weeklyDigest">
                                <strong>@Html.T("ملخص أسبوعي", "Weekly Summary")</strong>
                                <p class="text-muted small mb-0">@Html.T("ملخص بتقدمك الأسبوعي كل يوم أحد", "Weekly progress summary every Sunday")</p>
                            </label>
                        </div>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" name="MonthlyReport" value="true" id="monthlyReport" @(Model.MonthlyReport ? "checked" : "") />
                            <label class="form-check-label" for="monthlyReport">
                                <strong>@Html.T("تقرير شهري", "Monthly Report")</strong>
                                <p class="text-muted small mb-0">@Html.T("تقرير شامل بإنجازاتك الشهرية", "Comprehensive monthly achievements report")</p>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Actions -->
            <div class="d-flex gap-3 justify-content-end mb-4">
                <a asp-action="Index" class="btn btn-secondary">
                    <i class="feather-x me-2"></i>
                    @Html.T("إلغاء", "Cancel")
                </a>
                <button type="submit" class="btn btn-primary">
                    <i class="feather-save me-2"></i>
                    @Html.T("حفظ التغييرات", "Save Changes")
                </button>
            </div>
        </form>
    </div>
</div>
