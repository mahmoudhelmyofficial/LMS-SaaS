@model LMS.Areas.Student.Controllers.GiftRedemptionSuccessViewModel
@using LMS.Domain.Enums
@{
    ViewData["Title"] = Html.T("تم استرداد الهدية بنجاح!", "Gift redeemed successfully!");
    ViewData["ActiveMenu"] = "Gifts";
}

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="card border-0 shadow-sm overflow-hidden">
                <!-- Success Header -->
                <div class="bg-success text-white text-center py-5">
                    <div class="mb-3">
                        <i class="fas fa-check-circle fa-5x"></i>
                    </div>
                    <h2 class="mb-2">@Html.T("تم استرداد الهدية بنجاح!", "Gift redeemed successfully!")</h2>
                    <p class="mb-0 opacity-75">@Html.T("مبروك! أصبح المنتج متاحاً لك الآن", "Congratulations! The product is now available to you")</p>
                </div>

                <div class="card-body p-4 text-center">
                    <!-- Product Info -->
                    <div class="mb-4">
                        <span class="badge bg-primary mb-2">
                            @(Model.ProductType == ProductType.Book ? Html.T("كتاب", "Book") : Html.T("دورة", "Course"))
                        </span>
                        <h4>@Model.ProductTitle</h4>
                    </div>

                    <!-- Sender Info -->
                    @if (!string.IsNullOrEmpty(Model.SenderName))
                    {
                        <div class="mb-4">
                            <p class="text-muted mb-1">@Html.T("هدية من", "Gift from")</p>
                            <h5 class="mb-0">@Model.SenderName</h5>
                        </div>
                    }

                    <!-- Personal Message -->
                    @if (!string.IsNullOrEmpty(Model.PersonalMessage))
                    {
                        <div class="bg-light rounded p-4 mb-4 text-start">
                            <i class="fas fa-quote-right text-primary float-end opacity-25 fa-2x"></i>
                            <p class="mb-0 fst-italic">@Model.PersonalMessage</p>
                        </div>
                    }

                    <!-- Actions -->
                    <div class="d-grid gap-2">
                        @if (Model.ProductType == ProductType.Course)
                        {
                            <a asp-area="Student" asp-controller="Courses" asp-action="Learn" 
                               asp-route-id="@Model.ProductId" class="btn btn-primary btn-lg">
                                <i class="fas fa-play me-2"></i> ابدأ التعلم الآن
                            </a>
                        }
                        else
                        {
                            <a asp-area="Student" asp-controller="Books" asp-action="Read" 
                               asp-route-id="@Model.ProductId" class="btn btn-primary btn-lg">
                                <i class="fas fa-book-open me-2"></i> ابدأ القراءة الآن
                            </a>
                        }

                        <a asp-area="Student" asp-controller="Dashboard" asp-action="Index" 
                           class="btn btn-outline-primary">
                            <i class="fas fa-home me-1"></i> الذهاب للوحة التحكم
                        </a>
                    </div>
                </div>
            </div>

            <!-- Confetti Effect Placeholder -->
            <div class="text-center mt-4">
                <p class="text-muted small">
                    <i class="fas fa-heart text-danger me-1"></i>
                    استمتع بالتعلم!
                </p>
            </div>
        </div>
    </div>
</div>

@section Styles {
<style>
    .bg-success {
        background: linear-gradient(135deg, #28a745 0%, #20c997 100%) !important;
    }
</style>
}

