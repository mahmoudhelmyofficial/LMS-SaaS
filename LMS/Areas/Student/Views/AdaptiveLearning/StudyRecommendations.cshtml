@model LMS.Services.Interfaces.StudyRecommendations
@{
    ViewData["Title"] = Html.T("ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø§Ù„Ø°ÙƒÙŠØ©", "Smart Study Recommendations");
}

<style>
    .recommendation-card {
        background: white;
        border-radius: 16px;
        padding: 28px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        height: 100%;
        border: 1px solid #f0f0f0;
        transition: all 0.3s ease;
    }
    
    .recommendation-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.12);
    }
    
    .priority-badge {
        display: inline-flex;
        align-items: center;
        padding: 6px 14px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
    }
    
    .priority-badge.high { background: #fee2e2; color: #dc2626; }
    .priority-badge.medium { background: #fef3c7; color: #d97706; }
    .priority-badge.low { background: #dbeafe; color: #2563eb; }
    
    .time-slot {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 12px;
        margin-bottom: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .time-slot:hover {
        transform: scale(1.02);
        box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
    }
    
    .learning-style-icon {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 48px;
        margin: 0 auto 16px;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    }
    
    .topic-pill {
        display: inline-block;
        padding: 8px 16px;
        background: #f9fafb;
        border-radius: 20px;
        margin: 4px;
        font-size: 13px;
        transition: all 0.3s ease;
        cursor: pointer;
    }
    
    .topic-pill:hover {
        background: #667eea;
        color: white;
    }
    
    .study-tip {
        padding: 20px;
        background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        border-radius: 12px;
        border-right: 4px solid #fbbf24;
        margin-bottom: 16px;
    }
</style>

<!-- Hero Section -->
<div class="recommendation-card mb-4" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
    <div class="row align-items-center">
        <div class="col-lg-8">
            <h2 class="mb-3">ğŸ“š @Html.T("ØªÙˆØµÙŠØ§Øª Ø¯Ø±Ø§Ø³ÙŠØ© Ù…Ø®ØµØµØ© Ù„Ùƒ", "Personalized study recommendations for you")</h2>
            <p class="mb-4 opacity-90" style="font-size: 16px;">
                @Html.T("Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø£Ø¯Ø§Ø¦Ùƒ ÙˆØ£Ø³Ù„ÙˆØ¨ ØªØ¹Ù„Ù…ÙƒØŒ Ù‚Ù…Ù†Ø§ Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø·Ø© Ø¯Ø±Ø§Ø³ÙŠØ© Ù…Ø«Ø§Ù„ÙŠØ© Ù„ØªØ­Ù‚ÙŠÙ‚ Ø£Ù‡Ø¯Ø§ÙÙƒ", "Based on your performance and learning style, we've created an ideal study plan to achieve your goals")
            </p>
            <div class="d-flex gap-3">
                <div class="d-flex align-items-center">
                    <div class="avatar-text avatar-md bg-white text-primary me-2">
                        <i class="feather-clock"></i>
                    </div>
                    <div>
                        <div class="fw-bold">@Html.T("Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø£Ù…Ø«Ù„", "Optimal time")</div>
                        <small class="opacity-75">@Model.OptimalStudyTime @Html.T("Ø¯Ù‚ÙŠÙ‚Ø©/ÙŠÙˆÙ…", "min/day")</small>
                    </div>
                </div>
                <div class="d-flex align-items-center">
                    <div class="avatar-text avatar-md bg-white text-primary me-2">
                        <i class="feather-trending-up"></i>
                    </div>
                    <div>
                        <div class="fw-bold">@Html.T("Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­", "Success rate")</div>
                        <small class="opacity-75">@Model.SuccessRate%</small>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4 text-center">
            <div class="learning-style-icon">
                <i class="feather-zap text-white"></i>
            </div>
            <h5 class="mb-0">@Html.T("Ø£Ø³Ù„ÙˆØ¨Ùƒ:", "Your style:") @Model.LearningStyle</h5>
        </div>
    </div>
</div>

<!-- Priority Recommendations -->
<div class="row g-4 mb-4">
    <div class="col-12">
        <div class="recommendation-card">
            <h4 class="mb-4">
                <i class="feather-star text-warning me-2"></i>
                @Html.T("ØªÙˆØµÙŠØ§Øª Ø°Ø§Øª Ø£ÙˆÙ„ÙˆÙŠØ© Ø¹Ø§Ù„ÙŠØ©", "High priority recommendations")
            </h4>
            <div class="row g-3">
                @foreach (var priority in Model.PriorityRecommendations.Take(3))
                {
                    <div class="col-md-4">
                        <div class="p-4 rounded" style="background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%); border-right: 4px solid #ef4444;">
                            <div class="d-flex align-items-start mb-3">
                                <div class="avatar-text avatar-md bg-danger text-white me-3">
                                    <i class="feather-alert-circle"></i>
                                </div>
                                <div>
                                    <span class="priority-badge high">@Html.T("Ø£ÙˆÙ„ÙˆÙŠØ© Ø¹Ø§Ù„ÙŠØ©", "High priority")</span>
                                </div>
                            </div>
                            <h5 class="mb-2">@priority.Topic</h5>
                            <p class="text-muted mb-3">@priority.Reason</p>
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <small class="text-muted">@Html.T("Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©", "Current score")</small>
                                <strong class="text-danger">@priority.CurrentScore%</strong>
                            </div>
                            <div class="progress mb-3" style="height: 6px;">
                                <div class="progress-bar bg-danger" style="width: @priority.CurrentScore%"></div>
                            </div>
                            <button class="btn btn-danger btn-sm w-100">
                                <i class="feather-play me-2"></i>
                                @Html.T("Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¢Ù†", "Start review now")
                            </button>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>

<!-- Optimal Study Times -->
<div class="row g-4 mb-4">
    <div class="col-lg-6">
        <div class="recommendation-card">
            <h5 class="mb-4">
                <i class="feather-clock text-primary me-2"></i>
                @Html.T("Ø£ÙØ¶Ù„ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ù„Ùƒ", "Best study times for you")
            </h5>
            <p class="text-muted mb-4">@Html.T("Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ØªØ­Ù„ÙŠÙ„ Ù†Ø´Ø§Ø·Ùƒ ÙˆØªØ±ÙƒÙŠØ²Ùƒ", "Based on your activity and focus analysis")</p>
            
            @foreach (var timeSlot in Model.OptimalStudyTimes)
            {
                <div class="time-slot">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="mb-1">@timeSlot.Period</h6>
                            <small class="opacity-75">@timeSlot.StartTime - @timeSlot.EndTime</small>
                        </div>
                        <div class="text-end">
                            <div class="fs-4 fw-bold">@timeSlot.ProductivityScore%</div>
                            <small class="opacity-75">@Html.T("Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©", "Productivity rate")</small>
                        </div>
                    </div>
                </div>
            }
            
            <div class="alert alert-info mt-3 mb-0" style="border-radius: 12px;">
                <i class="feather-lightbulb me-2"></i>
                <strong>@Html.T("Ù†ØµÙŠØ­Ø©:", "Tip:")</strong> @Html.T("Ø­Ø§ÙˆÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³Ø© ÙÙŠ Ø£ÙˆÙ‚Ø§Øª Ø°Ø±ÙˆØ© Ø¥Ù†ØªØ§Ø¬ÙŠØªÙƒ Ù„Ù†ØªØ§Ø¦Ø¬ Ø£ÙØ¶Ù„", "Try studying during your peak productivity times for better results")
            </div>
        </div>
    </div>
    
    <div class="col-lg-6">
        <div class="recommendation-card">
            <h5 class="mb-4">
                <i class="feather-book-open text-success me-2"></i>
                @Html.T("Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø© Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©", "Suggested topics for review")
            </h5>
            <p class="text-muted mb-4">@Html.T("Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø£Ø¯Ø§Ø¦Ùƒ Ø§Ù„Ø£Ø®ÙŠØ±", "Based on your recent performance")</p>
            
            @foreach (var topic in Model.ReviewTopics)
            {
                <div class="d-flex justify-content-between align-items-center p-3 mb-2 rounded" style="background: #f9fafb;">
                    <div class="d-flex align-items-center">
                        <div class="avatar-text avatar-sm bg-primary-subtle text-primary me-3">
                            <i class="feather-book"></i>
                        </div>
                        <div>
                            <h6 class="mb-0">@topic.Name</h6>
                            <small class="text-muted">@topic.LessonsCount @Html.T("Ø¯Ø±ÙˆØ³", "lessons")</small>
                        </div>
                    </div>
                    <div class="text-end">
                        <div class="badge bg-warning mb-1">@topic.DifficultyLevel</div>
                        <div>
                            <small class="text-muted">@topic.EstimatedTime @Html.T("Ø¯Ù‚ÙŠÙ‚Ø©", "min")</small>
                        </div>
                    </div>
                </div>
            }
            
            <button class="btn btn-outline-primary w-100 mt-3">
                <i class="feather-list me-2"></i>
                @Html.T("Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹", "View all topics")
            </button>
        </div>
    </div>
</div>

<!-- Study Techniques -->
<div class="row g-4 mb-4">
    <div class="col-12">
        <div class="recommendation-card">
            <h5 class="mb-4">
                <i class="feather-award text-warning me-2"></i>
                @Html.T("ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§ Ø­Ø³Ø¨ Ø£Ø³Ù„ÙˆØ¨Ùƒ", "Recommended study techniques for your style")
            </h5>
            <div class="row g-3">
                <div class="col-md-4">
                    <div class="study-tip">
                        <div class="d-flex align-items-center mb-3">
                            <div class="avatar-text avatar-md bg-warning text-white me-3">
                                <i class="feather-repeat"></i>
                            </div>
                            <h6 class="mb-0">@Html.T("Ø§Ù„ØªÙƒØ±Ø§Ø± Ø§Ù„Ù…ØªØ¨Ø§Ø¹Ø¯", "Spaced repetition")</h6>
                        </div>
                        <p class="small mb-0">@Html.T("Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù„Ù‰ ÙØªØ±Ø§Øª Ù…ØªØ²Ø§ÙŠØ¯Ø© Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø·ÙˆÙŠÙ„Ø© Ø§Ù„Ù…Ø¯Ù‰", "Review information at increasing intervals to improve long-term memory")</p>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="study-tip">
                        <div class="d-flex align-items-center mb-3">
                            <div class="avatar-text avatar-md bg-warning text-white me-3">
                                <i class="feather-edit"></i>
                            </div>
                            <h6 class="mb-0">@Html.T("Ø§Ù„ØªØ¯ÙˆÙŠÙ† Ø§Ù„Ù†Ø´Ø·", "Active note-taking")</h6>
                        </div>
                        <p class="small mb-0">@Html.T("Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ Ø¨ÙƒÙ„Ù…Ø§ØªÙƒ Ø§Ù„Ø®Ø§ØµØ© Ù„ÙÙ‡Ù… Ø£Ø¹Ù…Ù‚ Ù„Ù„Ù…ÙˆØ§Ø¯", "Write notes in your own words for deeper understanding")</p>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="study-tip">
                        <div class="d-flex align-items-center mb-3">
                            <div class="avatar-text avatar-md bg-warning text-white me-3">
                                <i class="feather-users"></i>
                            </div>
                            <h6 class="mb-0">@Html.T("Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©", "Group study")</h6>
                        </div>
                        <p class="small mb-0">@Html.T("Ø´Ø§Ø±Ùƒ ÙÙŠ Ù…Ù†Ø§Ù‚Ø´Ø§Øª Ù…Ø¹ Ø²Ù…Ù„Ø§Ø¦Ùƒ Ù„ØªØ¹Ø²ÙŠØ² Ø§Ù„ÙÙ‡Ù…", "Join discussions with peers to enhance understanding")</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Weekly Study Plan -->
<div class="row g-4 mb-4">
    <div class="col-12">
        <div class="recommendation-card">
            <h5 class="mb-4">
                <i class="feather-calendar text-info me-2"></i>
                @Html.T("Ø®Ø·Ø© Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©", "Suggested weekly study plan")
            </h5>
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead class="table-light">
                        <tr>
                            <th>@Html.T("Ø§Ù„ÙŠÙˆÙ…", "Day")</th>
                            <th>@Html.T("Ø§Ù„ÙˆÙ‚Øª", "Time")</th>
                            <th>@Html.T("Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹", "Topic")</th>
                            <th>@Html.T("Ø§Ù„Ù…Ø¯Ø©", "Duration")</th>
                            <th>@Html.T("Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©", "Priority")</th>
                            <th>@Html.T("Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡", "Action")</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>@Html.T("Ø§Ù„Ø£Ø­Ø¯", "Sunday")</strong></td>
                            <td>10:00 - 11:30</td>
                            <td>@Html.T("Ù…Ø±Ø§Ø¬Ø¹Ø© Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©", "Review programming basics")</td>
                            <td>90 @Html.T("Ø¯Ù‚ÙŠÙ‚Ø©", "min")</td>
                            <td><span class="priority-badge high">@Html.T("Ø¹Ø§Ù„ÙŠ", "High")</span></td>
                            <td><button class="btn btn-sm btn-primary">@Html.T("Ø¥Ø¶Ø§ÙØ© Ù„Ù„ØªÙ‚ÙˆÙŠÙ…", "Add to calendar")</button></td>
                        </tr>
                        <tr>
                            <td><strong>@Html.T("Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†", "Monday")</strong></td>
                            <td>16:00 - 17:00</td>
                            <td>@Html.T("Ø­Ù„ ØªÙ…Ø§Ø±ÙŠÙ† Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª", "Database exercises")</td>
                            <td>60 @Html.T("Ø¯Ù‚ÙŠÙ‚Ø©", "min")</td>
                            <td><span class="priority-badge medium">@Html.T("Ù…ØªÙˆØ³Ø·", "Medium")</span></td>
                            <td><button class="btn btn-sm btn-primary">@Html.T("Ø¥Ø¶Ø§ÙØ© Ù„Ù„ØªÙ‚ÙˆÙŠÙ…", "Add to calendar")</button></td>
                        </tr>
                        <tr>
                            <td><strong>@Html.T("Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", "Tuesday")</strong></td>
                            <td>18:00 - 19:00</td>
                            <td>@Html.T("Ø¯Ø±Ø§Ø³Ø© ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…", "Study user interfaces")</td>
                            <td>60 @Html.T("Ø¯Ù‚ÙŠÙ‚Ø©", "min")</td>
                            <td><span class="priority-badge low">@Html.T("Ù…Ù†Ø®ÙØ¶", "Low")</span></td>
                            <td><button class="btn btn-sm btn-primary">@Html.T("Ø¥Ø¶Ø§ÙØ© Ù„Ù„ØªÙ‚ÙˆÙŠÙ…", "Add to calendar")</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="d-flex justify-content-between align-items-center mt-3">
                <button class="btn btn-outline-primary">
                    <i class="feather-download me-2"></i>
                    @Html.T("ØªØµØ¯ÙŠØ± Ø§Ù„Ø®Ø·Ø©", "Export plan")
                </button>
                <button class="btn btn-primary">
                    <i class="feather-check me-2"></i>
                    @Html.T("ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®Ø·Ø©", "Apply Plan")
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Resources & Tools -->
<div class="row g-4">
    <div class="col-lg-4">
        <div class="recommendation-card text-center">
            <div class="avatar-text avatar-xl bg-primary-subtle text-primary mx-auto mb-3">
                <i class="feather-headphones"></i>
            </div>
            <h5 class="mb-2">@Html.T("Ù…ÙˆØ§Ø¯ ØµÙˆØªÙŠØ©", "Audio materials")</h5>
            <p class="text-muted small mb-3">@Html.T("Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ø¯Ø±ÙˆØ³ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙ†Ù‚Ù„", "Listen to lessons on the go")</p>
            <button class="btn btn-primary btn-sm">
                <i class="feather-download me-2"></i>
                @Html.T("ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ø¯", "Download materials")
            </button>
        </div>
    </div>
    
    <div class="col-lg-4">
        <div class="recommendation-card text-center">
            <div class="avatar-text avatar-xl bg-success-subtle text-success mx-auto mb-3">
                <i class="feather-file-text"></i>
            </div>
            <h5 class="mb-2">@Html.T("Ù…Ù„Ø®ØµØ§Øª PDF", "PDF summaries")</h5>
            <p class="text-muted small mb-3">@Html.T("Ù…Ø±Ø§Ø¬Ø¹Ø© Ø³Ø±ÙŠØ¹Ø© Ù„Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©", "Quick review of key points")</p>
            <button class="btn btn-success btn-sm">
                <i class="feather-download me-2"></i>
                @Html.T("ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ø®ØµØ§Øª", "Download summaries")
            </button>
        </div>
    </div>
    
    <div class="col-lg-4">
        <div class="recommendation-card text-center">
            <div class="avatar-text avatar-xl bg-warning-subtle text-warning mx-auto mb-3">
                <i class="feather-help-circle"></i>
            </div>
            <h5 class="mb-2">@Html.T("Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø§Ø³ØªØ°ÙƒØ§Ø±", "Flashcards")</h5>
            <p class="text-muted small mb-3">@Html.T("Ø§Ø®ØªØ¨Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø¨Ø³Ø±Ø¹Ø©", "Test your knowledge quickly")</p>
            <button class="btn btn-warning btn-sm">
                <i class="feather-play me-2"></i>
                @Html.T("Ø¨Ø¯Ø¡ Ø§Ù„ØªØ¯Ø±ÙŠØ¨", "Start practice")
            </button>
        </div>
    </div>
</div>

@section Scripts {
<script>
    // Interactive time slot selection
    document.querySelectorAll('.time-slot').forEach(slot => {
        slot.addEventListener('click', function() {
            this.style.opacity = '0.7';
            setTimeout(() => {
                this.style.opacity = '1';
                alert('@Html.Raw(Html.T("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø§Ù„ÙˆÙ‚Øª Ø¥Ù„Ù‰ Ø¬Ø¯ÙˆÙ„Ùƒ!", "This time has been added to your schedule!").Replace("'", "\\'"))');
            }, 200);
        });
    });
    
    // Topic pills interaction
    document.querySelectorAll('.topic-pill').forEach(pill => {
        pill.addEventListener('click', function() {
            const topic = this.textContent.trim();
            console.log('Selected topic:', topic);
        });
    });
</script>
}
