@model LMS.Models.InstructorApplicationViewModel
@{
    ViewData["Title"] = Html.T("تعديل طلب الانضمام كمدرس", "Edit Instructor Application");
}

<!-- Alert Messages -->
@await Html.PartialAsync("_AlertMessage")

<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="card stretch stretch-full mb-4">
            <div class="card-header">
                <h5 class="fw-bold mb-0">
                    <i class="feather-edit me-2"></i>
                    @Html.T("تعديل تفاصيل الطلب", "Edit Application Details")
                </h5>
            </div>
            <div class="card-body">
                <form asp-area="Student" asp-controller="InstructorApplication" asp-action="Edit" method="post">
                    @Html.AntiForgeryToken()

                    @if (!ViewContext.ModelState.IsValid)
                    {
                        <div class="alert alert-danger mb-4">
                            <strong>@Html.T("يرجى تصحيح الأخطاء التالية:", "Please correct the following errors:")</strong>
                            <ul class="mb-0 mt-2">
                                @foreach (var error in ViewContext.ModelState.Values.SelectMany(v => v.Errors))
                                {
                                    <li>@error.ErrorMessage</li>
                                }
                            </ul>
                        </div>
                    }

                    <h6 class="fw-bold mb-3">
                        <i class="feather-user me-2"></i>
                        @Html.T("المعلومات الشخصية", "Personal Information")
                    </h6>
                    <div class="row mb-4">
                        <div class="col-md-6 mb-3">
                            <label asp-for="FirstName" class="form-label">@Html.T("الاسم الأول", "First Name") <span class="text-danger">*</span></label>
                            <input asp-for="FirstName" class="form-control" />
                            <span asp-validation-for="FirstName" class="text-danger small"></span>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label asp-for="LastName" class="form-label">@Html.T("الاسم الأخير", "Last Name") <span class="text-danger">*</span></label>
                            <input asp-for="LastName" class="form-control" />
                            <span asp-validation-for="LastName" class="text-danger small"></span>
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-6 mb-3">
                            <label asp-for="Email" class="form-label">@Html.T("البريد الإلكتروني", "Email")</label>
                            <input asp-for="Email" class="form-control" readonly />
                            <small class="text-muted">@Html.T("لا يمكن تغيير البريد الإلكتروني", "Email cannot be changed")</small>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label asp-for="PhoneNumber" class="form-label">@Html.T("رقم الهاتف", "Phone Number")</label>
                            <input asp-for="PhoneNumber" class="form-control" />
                            <span asp-validation-for="PhoneNumber" class="text-danger small"></span>
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-6 mb-3">
                            <label asp-for="Country" class="form-label">@Html.T("الدولة", "Country")</label>
                            <input asp-for="Country" class="form-control" />
                        </div>
                        <div class="col-md-6 mb-3">
                            <label asp-for="City" class="form-label">@Html.T("المدينة", "City")</label>
                            <input asp-for="City" class="form-control" />
                        </div>
                    </div>

                    <h6 class="fw-bold mb-3 mt-4">
                        <i class="feather-briefcase me-2"></i>
                        @Html.T("المعلومات المهنية", "Professional Information")
                    </h6>
                    <div class="row mb-4">
                        <div class="col-md-6 mb-3">
                            <label asp-for="Specialization" class="form-label">@Html.T("التخصص", "Specialization") <span class="text-danger">*</span></label>
                            <input asp-for="Specialization" class="form-control" />
                            <span asp-validation-for="Specialization" class="text-danger small"></span>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label asp-for="YearsOfExperience" class="form-label">@Html.T("سنوات الخبرة", "Years of Experience") <span class="text-danger">*</span></label>
                            <input asp-for="YearsOfExperience" class="form-control" type="number" min="0" max="50" />
                            <span asp-validation-for="YearsOfExperience" class="text-danger small"></span>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label asp-for="Education" class="form-label">@Html.T("المؤهل العلمي", "Education")</label>
                        <input asp-for="Education" class="form-control" />
                    </div>
                    <div class="mb-4">
                        <label asp-for="Bio" class="form-label">@Html.T("نبذة عنك", "About You")</label>
                        <textarea asp-for="Bio" class="form-control" rows="4"></textarea>
                        <span asp-validation-for="Bio" class="text-danger small"></span>
                    </div>
                    <div class="mb-4">
                        <label asp-for="WhyTeach" class="form-label">@Html.T("لماذا تريد التدريس معنا؟", "Why do you want to teach with us?")</label>
                        <textarea asp-for="WhyTeach" class="form-control" rows="3"></textarea>
                    </div>
                    <div class="mb-4">
                        <label asp-for="ProposedTopics" class="form-label">@Html.T("المواضيع التي تود تدريسها", "Topics You Want to Teach")</label>
                        <textarea asp-for="ProposedTopics" class="form-control" rows="3"></textarea>
                    </div>

                    <h6 class="fw-bold mb-3 mt-4">
                        <i class="feather-link me-2"></i>
                        @Html.T("الروابط (اختياري)", "Links (optional)")
                    </h6>
                    <div class="row mb-4">
                        <div class="col-md-6 mb-3">
                            <label asp-for="LinkedInUrl" class="form-label">@Html.T("رابط LinkedIn", "LinkedIn")</label>
                            <input asp-for="LinkedInUrl" class="form-control" />
                            <span asp-validation-for="LinkedInUrl" class="text-danger small"></span>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label asp-for="WebsiteUrl" class="form-label">@Html.T("الموقع الشخصي", "Website")</label>
                            <input asp-for="WebsiteUrl" class="form-control" />
                            <span asp-validation-for="WebsiteUrl" class="text-danger small"></span>
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-6 mb-3">
                            <label asp-for="YouTubeUrl" class="form-label">@Html.T("قناة YouTube", "YouTube")</label>
                            <input asp-for="YouTubeUrl" class="form-control" />
                            <span asp-validation-for="YouTubeUrl" class="text-danger small"></span>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label asp-for="SampleVideoUrl" class="form-label">@Html.T("فيديو تعريفي", "Sample Video")</label>
                            <input asp-for="SampleVideoUrl" class="form-control" />
                            <span asp-validation-for="SampleVideoUrl" class="text-danger small"></span>
                        </div>
                    </div>

                    <div class="d-flex gap-2 mt-4">
                        <button type="submit" class="btn btn-primary">
                            <i class="feather-save me-2"></i>
                            @Html.T("حفظ التعديلات", "Save Changes")
                        </button>
                        <a asp-action="Index" class="btn btn-outline-secondary">
                            <i class="feather-x me-2"></i>
                            @Html.T("إلغاء", "Cancel")
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
