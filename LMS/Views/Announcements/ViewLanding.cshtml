@model LMS.Domain.Entities.Notifications.SystemAnnouncement
@{
    ViewData["Title"] = Model?.Title ?? Html.T("تفاصيل الإعلان", "Announcement details");
    Layout = "~/Views/Shared/_LandingLayout.cshtml";
}

<section class="py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card border shadow-sm">
                    <div class="card-body p-4">
                        <div class="border-bottom pb-3 mb-3">
                            <div class="d-flex align-items-center gap-2 flex-wrap mb-2">
                                @if (Model?.IsPinned == true)
                                {
                                    <span class="badge bg-warning text-dark"><i class="feather-anchor"></i> @Html.T("مثبت", "Pinned")</span>
                                }
                                <span class="badge bg-secondary">@(Model?.Type ?? "General")</span>
                                <span class="badge bg-info">@(Model?.Priority ?? "Normal")</span>
                            </div>
                            <h1 class="h4 mb-2">@Model?.Title</h1>
                            <div class="text-muted small">
                                <span><i class="feather-calendar"></i> @Model?.CreatedAt.ToString("dd/MM/yyyy HH:mm", System.Globalization.CultureInfo.CurrentUICulture)</span>
                            </div>
                        </div>
                        <div class="announcement-content" style="font-size: 1.05rem; line-height: 1.7;">
                            @if (!string.IsNullOrEmpty(Model?.Content))
                            {
                                @Html.Raw(Model.Content)
                            }
                            else
                            {
                                <p class="text-muted mb-0">@Html.T("لا يوجد محتوى.", "No content.")</p>
                            }
                        </div>
                        @if (Model?.StartDate.HasValue == true || Model?.EndDate.HasValue == true)
                        {
                            <div class="mt-4 pt-3 border-top">
                                <h6 class="text-muted mb-2">@Html.T("الفترة", "Period")</h6>
                                <ul class="list-unstyled mb-0 small">
                                    @if (Model.StartDate.HasValue)
                                    {
                                        <li><i class="feather-play-circle text-success"></i> @Html.T("البدء:", "Start:") @Model.StartDate.Value.ToString("dd/MM/yyyy HH:mm", System.Globalization.CultureInfo.CurrentUICulture)</li>
                                    }
                                    @if (Model.EndDate.HasValue)
                                    {
                                        <li><i class="feather-stop-circle text-danger"></i> @Html.T("الانتهاء:", "End:") @Model.EndDate.Value.ToString("dd/MM/yyyy HH:mm", System.Globalization.CultureInfo.CurrentUICulture)</li>
                                    }
                                </ul>
                            </div>
                        }
                    </div>
                </div>
                <div class="mt-4">
                    <a asp-controller="Landing" asp-action="Index" class="btn btn-outline-secondary">
                        <i class="feather-arrow-right"></i> @Html.T("العودة للصفحة الرئيسية", "Back to home")
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
